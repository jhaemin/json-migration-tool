# JSON Migration Tool

**JSON Migration Tool(JMT)** helps you easily manage and migrate JSON data with a type safety in both compile-time and runtime.

## JSON Runtime Schema (JRS)

JRS is a way you describe a structure of JSON in a runtime TypeScript code. Since JRS is powerfully typed, it can generate TypeScript declarations and also its original source code.

### TypeScript declarations â†” JRS

JMT can generate JRS from TS type aliases(no interface yet).

## Type Safety

JMT never goes into any fault situations. It checks every type in both compile-time and runtime. So you can write migration rules and migrate the data with confidence.

### Unsoundness

JMT reflects JavaScript and TypeScript's mother nature. It doesn't care about more information than the JRS.

## Data Safety

JMT only changes the **structure** of your JSON data. You can add, delete, or move each property but cannot modify the property's value itself. You only change the value when its type should be changed.

## Define only the changes

It's hard to detect the exact changes between two schemas, especially when specific properties just move to other places.

Once you write the initial JRS, then you only write the migration rules based on the previous JRS generated by JMT.

## Supporting Types

- Boolean
- String
- Number
- Literal
- Object
- Record
- Array
- Tuple (not recommended)
- Union
- Null

### Restrictions

- Always use type alias. No interface.
- Don't use type alias for primitive types or null.

## Inference raw JSON types from JRS

JMT provides a utility type called `InferType` that inferences normal type of JSON from JRS.

For example, a given JRS

```ts
const jrs = object([property('foo', string()), property('bar', number())])
```

`InterType<typeof jrs>` should be

```ts
{
  foo: string
  bar: number
}
```
